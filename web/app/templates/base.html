<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ config.APP_NAME }}</title>
    <!-- meta -->
    <meta name="description" content="" />
    <meta name="author" content="" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <!-- prettier-ignore -->
    {% block meta %}
    {% endblock %}
    <!-- styles -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/bootstrap/5.3.0/bootstrap.min.css') }}"
    />
    <link
      href="{{ url_for('static', filename='css/main.css') }}"
      rel="stylesheet"
      media="screen"
    />
    <!-- prettier-ignore -->
    {% block links %}
    {% endblock %}
  </head>

  <body>
    <!-- Header -->
    <header>
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <!-- Navbar Brand -->
          <!-- prettier-ignore -->
          <a class="navbar-brand" href="{{ url_for('main.index') }}">{{ config.APP_NAME }}</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <!-- Main Navigation -->
            <ul class="navbar-nav">
              <!-- Login/Logout -->
              {% if current_user.is_authenticated %}
              <li class="nav-item">
                <a class="nav-link" href="/admin/user/">Admin panel</a>
              </li>
              <!-- prettier-ignore -->
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('auth.logout') }}">Logout</a>
              </li>
              <!-- prettier-ignore -->
              {% else %}
              <li class="nav-item">
                <!-- prettier-ignore -->
                <a class="nav-link" href="{{ url_for('auth.login') }}">Login</a>
              </li>
              <!-- prettier-ignore -->
              {% endif %}
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- Flash Messages -->
    <!-- prettier-ignore -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} alert-dismisible" role="alert">
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
      <!-- prettier-ignore -->
      {{ message }}
    </div>
    <!-- prettier-ignore -->
    {% endfor %}
    {% endif %}
    {% endwith %}
    <!-- Main Content -->
    <!-- prettier-ignore -->
    {% block content %}
    {% endblock %}
    <!-- Footer-->
    <footer>
      <div class="container-fluid bg-light py-1">
        <!-- Copyrights -->
        <div class="text-center">
          <p class="text-muted mb-0 py-0">
            &copy;2023 {{ config.APP_NAME }} | All rights reserved.
          </p>
        </div>
      </div>
    </footer>
    <!-- scripts -->
    <script src="{{ url_for('static', filename='js/bootstrap/5.3.0/bootstrap.bundle.min.js') }}"></script>
    <script
      src="{{ url_for('static', filename='js/main.js') }}"
      type="text/javascript"
    ></script>
    <!-- prettier-ignore -->
    {% block scripts %}
    {% endblock %}
  </body>
</html>
